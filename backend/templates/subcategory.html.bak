{% extends "layout.html" %}

{% block content %}
<div class="container py-4">
  <h2 class="mb-3">{{ subcategory.name }}</h2>
  {% if businesses %}
  <div class="list-group">
    {% for b in businesses %}
    <a class="list-group-item list-group-item-action" href="/b/{{ b.slug }}">
      <div class="d-flex justify-content-between">
        <h5 class="mb-1">{{ b.name }}</h5>
        <small>{{ b.city }}{% if b.state %}, {{ b.state }}{% endif %}</small>
      </div>
      <p class="mb-1">{{ (b.description or '')[:160] }}{% if (b.description or '')|length > 160 %}â€¦{% endif %}</p>
    </a>
    {% endfor %}
  </div>
  {% else %}
  <p>No businesses listed yet.</p>
  {% endif %}
</div>
{% endblock %}